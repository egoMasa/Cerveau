
#  **1) PrÃ©sentation de Exegol**

Exegol est **un environnement de pentest basÃ© sur Docker**, conÃ§u pour **dÃ©ployer rapidement un conteneur** contenant **tous les outils nÃ©cessaires au hacking**. Il constitue **une alternative lÃ©gÃ¨re et flexible** Ã  Kali Linux ou Parrot.

## ** Pourquoi utiliser Exegol ?**

âœ… **LÃ©ger & rapide** â†’ Exegol fonctionne en conteneur Docker, Ã©vitant l'utilisation de machines virtuelles lourdes.  
âœ… **Modulaire** â†’ Ajout et suppression d'outils sans polluer le systÃ¨me hÃ´te.  
âœ… **PrÃªt Ã  l'emploi** â†’ LivrÃ© avec Burp Suite, Nmap, SQLmap, ffuf, etc.  
âœ… **Persistance des donnÃ©es** â†’ Conserve les configurations entre les sessions.  
âœ… **Portable & sÃ©curisÃ©** â†’ Compatible avec Linux, Windows et macOS.  
âœ… **FlexibilitÃ© maximale** â†’ Permet de crÃ©er des environnements isolÃ©s et reproductibles.

# **2) Installation de Exegol**

Exegol peut Ãªtre installÃ© de **deux faÃ§ons** : via **pipx** (mÃ©thode simple et recommandÃ©e) ou **depuis les sources**.

### **1 -  Installer `pipx` (si non prÃ©sent)**
```bash
sudo apt update && sudo apt install pipx
```

Ou via pip :
```bash
python3 -m pip install pipx
```

### **2 -  Installer Exegol avec `pipx`**
```bash
pipx install exegol
```

Pipx permet **dâ€™isoler Exegol** dans un environnement Python dÃ©diÃ©.

### **3 - Ajouter Exegol au `PATH`**
```bash
pipx ensurepath
```

**Ouvre un nouveau terminal** pour appliquer la modification.

### **4 -  Configurer les permissions Docker**

Exegol **ne supporte pas Docker en mode rootless**, donc :

- **Ajoute ton utilisateur au groupe Docker** pour Ã©viter dâ€™utiliser `sudo` Ã  chaque fois :
    ```bash
    sudo usermod -aG docker $USER
    newgrp docker
    ```
    
- **Ou configure un alias pour lâ€™exÃ©cuter en `sudo`** :
    ```bash
    echo "alias exegol='sudo -E $(which exegol)'" >> ~/.bash_aliases
    source ~/.bashrc
    ```
    
### **5 - TÃ©lÃ©charger et installer une image Exegol**

Une fois Exegol installÃ©, tÃ©lÃ©charger une image :

```bash
exegol install
```

Il existe plusieurs version installables selon nos besoins** (`full`, `web`, `osint`, `light`, etc.).

| **Image**   | **Taille (approx.)** | **Utilisation principale**                                                                                     |
| ----------- | -------------------- | -------------------------------------------------------------------------------------------------------------- |
| **nightly** | ~62.3GB              | **Version de dÃ©veloppement**, mise Ã  jour tous les jours avec les derniers outils. **Peut contenir des bugs**. |
| **web**     | ~28.8GB              | **SpÃ©cialisÃ©e pour le pentest web**, avec des outils comme Burp Suite, sqlmap, nuclei, etc.                    |
| **osint**   | ~15.8GB              | **OSINT (Open Source Intelligence)** â†’ Outils de collecte d'infos (theHarvester, Maltego, recon-ng, etc.).     |
| **light**   | ~17.7GB              | **Version allÃ©gÃ©e**, avec uniquement les outils essentiels pour du pentest gÃ©nÃ©raliste.                        |
| **ad**      | ~44.8GB              | **SpÃ©cialisÃ©e Active Directory** â†’ Contient des outils comme BloodHound, impacket, CrackMapExec.               |
| **full**    | ~61.0GB              | **Version complÃ¨te**, contient **tous les outils** de toutes les versions combinÃ©es.                           |


# **ğŸ“Œ Auto-complÃ©tion (optionnel)**

Pour **activer l'auto-complÃ©tion** dans ton terminal : 

1. **Installer `argcomplete` si nÃ©cessaire** :

```bash
sudo apt install python3-argcomplete
```

2. **Ajouter lâ€™auto-complÃ©tion au systÃ¨me** :

```bash
register-python-argcomplete --no-defaults exegol | sudo tee /etc/bash_completion.d/exegol > /dev/null
```

3. **Activer `bash-completion` (si non installÃ©)** :

```bash
sudo apt install bash-completion
```

# 3) PremiÃ¨re utilisation de Exegol 
* Lancer une instance Exegol
```bash
$ exegol start Â   
[*] Exegol is currently in version v4.3.10  
[*] Exegol Discord serv.: https://discord.gg/cXThyp7D6P  
[*] Exegol documentation: https://exegol.rtfd.io/  
[*] Starting exegol Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â   
[!] No containers have been created yet Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â   
  
ï›¸ Available images Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â   
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  
â”‚ Image tag â”‚ Size Â Â Â â”‚ Status Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â â”‚  
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  
â”‚ nightly Â Â â”‚ 56.4GB Â â”‚ Up to date (v.bb147a38) â”‚  
â”‚ web Â Â Â Â Â Â â”‚ ~28.8GB â”‚ Not installed Â Â Â Â Â Â Â Â Â Â â”‚  
â”‚ osint Â Â Â Â â”‚ ~15.8GB â”‚ Not installed Â Â Â Â Â Â Â Â Â Â â”‚  
â”‚ light Â Â Â Â â”‚ ~17.7GB â”‚ Not installed Â Â Â Â Â Â Â Â Â Â â”‚  
â”‚ ad Â Â Â Â Â Â Â â”‚ ~44.8GB â”‚ Not installed Â Â Â Â Â Â Â Â Â Â â”‚  
â”‚ full Â Â Â Â Â â”‚ ~61.0GB â”‚ Not installed Â Â Â Â Â Â Â Â Â Â â”‚  
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  
  
[*] You can use a name that does not already exist to build a new image from local sources Â Â   
[?] Select an image by its name (nightly): Â   
[?] Enter the name of your new exegol container (default): Â Â Â Â Â   
  
â­ Container summary Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â   
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  
â”‚ Â Â Â Â Â Â Â Â Â Â Â Â Name â”‚ default Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â â”‚  
â”‚ Â Â Â Â Â Â Â Â Â Â Â Image â”‚ nightly - v.bb147a38 (Up to date) Â Â Â Â â”‚  
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  
â”‚ Â Â Â Â Â Credentials â”‚ root : [PASSPHRASE] â”‚  
â”‚ Â Â Remote Desktop â”‚ Off ïª“ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â â”‚  
â”‚ Â Â Â Â Â Console GUI â”‚ On âœ” (X11 + Wayland) Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â â”‚  
â”‚ Â Â Â Â Â Â Â Â Â Network â”‚ host Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â â”‚  
â”‚ Â Â Â Â Â Â Â Â Timezone â”‚ On âœ” Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â â”‚  
â”‚ Exegol resources â”‚ On âœ” (/opt/resources) Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â â”‚  
â”‚ Â Â Â Â My resources â”‚ On âœ” (/opt/my-resources) Â Â Â Â Â Â Â Â Â Â Â Â Â â”‚  
â”‚ Â Â Â Shell logging â”‚ Off ïª“ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â â”‚  
â”‚ Â Â Â Â Â Â Privileged â”‚ Off âœ” Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â â”‚  
â”‚ Â Â Â Â Â Â Â Workspace â”‚ Dedicated (/workspace) Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â â”‚  
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  
  
[?] Is the container configuration correct? [Y/n]: Â   
[*] Command line of the configuration: exegol start default nightly Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â   
[*] To use exegol without interaction, read CLI options with exegol start -h Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â   
[*] Creating new exegol container Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â   
[+] Exegol container successfully created ! Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â   
[*] Location of the exegol workspace on the host : /home/egomasa/.exegol/workspaces/default Â   
[+] Opening shell in Exegol 'default'
[Feb 28, 2025 - 14:18:34 (CET)] exegol-default /workspace # ls -l  
total 0  
[Feb 28, 2025 - 14:19:27 (CET)] exegol-default /workspace # pwd
```
## Actions rÃ©currentes et manipulation 
1. Lister tous les conteneurs (actifs et stoppÃ©s)
```bash
docker ps --filter "name=exegol" #execution
docker ps -a --filter "name=exegol" # all
```
2. Lancer ou rejoindre un nouveau conteneur
```bash
exegol start [NOM] [IMAGE] #crÃ©er
exegol start [NOM] #rejoindre
```
3. ArrÃªter un conteneur
```bash
exegol stop [nom_du_conteneur]
```
4. RedÃ©marrer un conteneur 
```bash
sudo apt install bash-completion
```
5. Supprimer dÃ©finitivement un conteneur
```bash
exegol remove [nom_du_conteneur]
```

## Utilisations spÃ©cifique en CTF/Pentest
1. ExÃ©cuter une commande dans un conteneur
```bash
exegol exec [nom_du_conteneur] [commande]
exegol exec pentest bloodhound
exegol exec -v pentest "nmap -h" #sortie visible
exegol exec -b pentest bloodhound #arriÃ¨re-plan
```
1. Lancer plusieurs conteneurs en parralle et passer de l'un Ã  l'autre 
```bash
exegol start pentest1 full
exegol start pentest2 web

(pentest1)$exit
exegol start pentest2`
(pentest2)$
```

# **ğŸ“Œ Utilisation & Commandes essentielles**

| **Commande**                          | **Action**                                           |
| ------------------------------------- | ---------------------------------------------------- |
| `exegol info`                         | Voir les images Exegol disponibles et installÃ©es     |
| `exegol version`                      | VÃ©rifier la version dâ€™Exegol installÃ©e               |
| `exegol install [image]`              | TÃ©lÃ©charger et installer une image Exegol            |
| `exegol remove [image]`               | Supprimer une image Exegol installÃ©e                 |
| `exegol start [nouveau_nom] [image]`  | Lancer un conteneur Exegol spÃ©cifique                |
| `exegol stop [nom]`                   | ArrÃªter un conteneur Exegol                          |
| `exegol restart [nom]`                | RedÃ©marrer un conteneur Exegol                       |
| `exegol exec [nom] [commande]`        | ExÃ©cuter une commande dans un conteneur Exegol       |
| `docker ps --filter "name=exegol"`    | Lister les conteneurs Exegol en cours dâ€™exÃ©cution    |
| `docker ps -a --filter "name=exegol"` | Lister tous les conteneurs Exegol, y compris arrÃªtÃ©s |
| `docker rm -f [nom_du_conteneur]`     | Supprimer un conteneur Exegol spÃ©cifique             |
